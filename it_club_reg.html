<!DOCTYPE html>
<html lang="en">
    <head>
        <script crossorigin src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
        <script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>
        <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
        <title>IT Club Registration</title>
        <style>
            #app {
                text-align: center;
                font-family: sans-serif;
            }

            #question {
                font-size: 72px;
            }

            .incorrect {
                color: red;
            }
            .correct {
                font-size: 0%;
                color: transparent;
                display: none;
            }
            #winner {
                color: green;
                font-size: 72px; 
            }
        </style>
    </head>
    <body>
        <!-- <button id="shuffle">Shuffle Question</button> -->
        <div id="app"></div>
        <script type="text/babel">
            let questions = {
                1:["What is the full form of RAM?","random access memory"],
                2:["What is the full form of ROM?","read only memory"],
                3:["What is the full form of AI?","artificial intelligence"],
                4:["What does CPU stand for?", "central processing unit"],
                6:["",""],
                7:["",""],
                9:["",""],
                10:["",""],
                11:["",""],
                12:["",""],
                //13:["",""],
            }

            function App() {
                function randomNumber(min, max) { 
                    return Math.random() * (max - min) + min;
                }
                const [state, setState] = React.useState({
                    // num1: Math.ceil(Math.random() * 10),
                    question: Math.floor((randomNumber(1,4))),
                    response: "", 
                    score:0,
                    incorrect:false,
                    attempts:0
                });

                function inputKeyPress(event) {
                    if (event.key==='Enter') { 
                        const answer = state.response; 
                        if (questions[state.question][1] === answer.toLowerCase()) { 
                            setState({
                                ...state,
                                // num1: Math.ceil(Math.random() * 10), 
                                question: Math.floor((randomNumber(1,4))),
                                score:state.score+1,
                                response: "", 
                                incorrect:false,
                                attempts:state.attempts+1
                            })
                        } else {
                            setState({
                                ...state,
                                //score:state.score-1,
                                response: "",
                                incorrect:true,
                                attempts:state.attempts+1
                            })
                        }
                    }
                }

                function updateResponse(event) {
                    setState({
                        ...state, 
                        response:event.target.value
                    });
                }

                function shuffleQuestion(event) {
                    location.reload()
                }

                if (state.score==1) {
                    return (
                        <div>
                            <div id="winner">You won!</div>
                            <div>Total Attempts: {state.attempts}</div>
                        </div>
                    )
                }
                return (
                    <div>
                        <div className={state.incorrect ? "incorrect" : ""} id="question">{questions[state.question][0]}</div>
                        <input autoFocus={true} onKeyPress={inputKeyPress} onChange={updateResponse} value={state.response} /> 
                        <div>Score: {state.score}</div>
                        <div className={state.incorrect ? "incorrect" : "correct"}>Incorrect Answer! Try again.</div>
                        <button className={state.incorrect ? "incorrect" : "correct"} onClick={shuffleQuestion}>Shuffle Question</button>
                    </div> 
                );
            }

            ReactDOM.render(<App />,document.querySelector('#app'));
        </script>
    </body>
</html>
